

## üîß –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –∏–∑–≤–µ—Å—Ç–Ω–æ:

### `sites.csv` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞):

* `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
* `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
* `lat`, `lon` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

### `costs.csv` (—Ç—Ä–µ–±—É–µ—Ç –æ—á–∏—Å—Ç–∫–∏):

* `site_id_from` ‚Äî ID –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
* `site_id_to` ‚Äî ID –∫–æ–Ω–µ—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
* `iwait` ‚Äî –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
* `inveht` ‚Äî –≤—Ä–µ–º—è –≤ —Å–∞–ª–æ–Ω–µ
* `xpen` ‚Äî —à—Ç—Ä–∞—Ñ –∑–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏
* `xnum` ‚Äî —á–∏—Å–ª–æ –ø–µ—Ä–µ—Å–∞–¥–æ–∫
* `cost` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Redux Store

```ts
{
  stops: {
    list: Stop[];           // –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
    isLoading: boolean;
  };
  costs: {
    map: Record<string, TravelCost>;  // –ö–ª—é—á: `${from}_${to}`
    isLoading: boolean;
  };
  selection: {
    selectedStopId: number | null;    // ID –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
  };
}
```

### –ü—Ä–∏–º–µ—Ä —Ç–∏–ø–æ–≤:

```ts
type Stop = {
  id: number;
  name: string;
  lat: number;
  lon: number;
};

type TravelCost = {
  from: number;
  to: number;
  cost: number | null;
  iwait: number;
  inveht: number;
  xnum: number;
  xpen: number;
};
```

---

## üé® –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

```ts
export const getColorByCost = (cost: number | null): string => {
  if (cost === null || isNaN(cost)) return "#000000"; // —á—ë—Ä–Ω—ã–π
  if (cost <= 5) return "#00FF00"; // –∑–µ–ª—ë–Ω—ã–π
  if (cost <= 15) return "#FFFF00"; // –∂—ë–ª—Ç—ã–π
  if (cost <= 30) return "#FF0000"; // –∫—Ä–∞—Å–Ω—ã–π
  return "#4B0082"; // —Ç—ë–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
};
```

---

## üó∫Ô∏è –í—ã–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

### ‚úÖ **–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:**

#### [`react-leaflet`](https://react-leaflet.js.org/)

* –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ Leaflet.js
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏
* –ü—Ä–æ—Å—Ç –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å React
* –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π (–¥–ª—è 1000+ —Ç–æ—á–µ–∫)

**–ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

```bash
npm install leaflet react-leaflet
```

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –∏ –º–∞—Ä–∫–µ—Ä–æ–≤:**

```tsx
<MapContainer center={[55.75, 37.61]} zoom={12} style={{ height: "100vh" }}>
  <TileLayer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" />
  {stops.map(stop => (
    <Marker key={stop.id} position={[stop.lat, stop.lon]}>
      <Tooltip>{stop.name}</Tooltip>
    </Marker>
  ))}
</MapContainer>
```

---

## üõ† –î–µ–π—Å—Ç–≤–∏—è –¥–∞–ª–µ–µ

1. üí• –û—á–∏—Å—Ç–∏—Ç—å –∏ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å `costs.csv` (–∑–∞–º–µ–Ω–∏—Ç—å `–∞–≤–≥.78`, `–∏—é–ª.95` –Ω–∞ —á–∏—Å–ª–∞).
2. ‚öôÔ∏è –°–æ–∑–¥–∞—Ç—å —Å–ª–∞–π—Å—ã –¥–ª—è `stops`, `costs`, `selection`.
3. üó∫Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `react-leaflet` —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –≤—ã–±–æ—Ä–∞/–ø–æ–¥—Å–≤–µ—Ç–∫–∏.
4. üì¶ –ó–∞–≥—Ä—É–∑–∏—Ç—å `sites.csv` –∏ `costs.csv` –∏–∑ `public/` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

